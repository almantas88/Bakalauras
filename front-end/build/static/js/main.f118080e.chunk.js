(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{163:function(e,t,a){},187:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(53),s=a.n(i),c=(a(163),a(5)),o=a(27),l=a(6),u=a(247),d=a(242),j=a(241),b=a(248),h=a(230),x=a(239),O=a(227),f=a(229),m=a(136),p=a.n(m),g=a(132),v=a.n(g),k=a(133),C=a.n(k),w=a(134),I=a.n(w),y=a(137),S=a.n(y),D=a(58),N=a(17),P=a(13),L=a.n(P),W=a(23),F=a.n(W),R=a(128),U=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL||"http://localhost:5000";function A(e){return T.apply(this,arguments)}function T(){return(T=Object(N.a)(L.a.mark((function e(t){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("".concat(U,"/users/login"),t);case 2:return a=e.sent,window.localStorage.setItem("token",a.data.token),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return Object(R.a)(localStorage.getItem("token"))}function K(){window.localStorage.removeItem("token"),window.location="/"}var E=a(0);function _(){var e=r.a.useState({left:!1}),t=Object(l.a)(e,2),a=t[0],i=t[1],s=r.a.useState(),m=Object(l.a)(s,2),g=m[0],k=m[1];Object(n.useEffect)((function(){try{var e=B();console.log(e),e?k(e):window.location="/unauthorized"}catch(t){window.location="/unauthorized"}}),[]);var w,y=function(e,t){return function(n){("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&i(Object(o.a)(Object(o.a)({},a),{},Object(c.a)({},e,t)))}};return Object(E.jsxs)("div",{className:"header",children:[Object(E.jsxs)(r.a.Fragment,{children:[Object(E.jsxs)(j.a,{id:"menu-btn",onClick:y("left",!0),children:[Object(E.jsx)(S.a,{className:"menu-icon"})," Meniu"]}),Object(E.jsx)(d.a,{anchor:"left",open:a.left,onClose:y("left",!1),children:(w="left",Object(E.jsxs)(u.a,{sx:{width:"top"===w||"bottom"===w?"auto":250},role:"presentation",onClick:y(w,!1),onKeyDown:y(w,!1),children:[Object(E.jsxs)(b.a,{children:[Object(E.jsx)(D.b,{className:"link",to:"/users",children:Object(E.jsxs)(x.a,{button:!0,children:[Object(E.jsx)(O.a,{children:Object(E.jsx)(v.a,{})}),Object(E.jsx)(f.a,{primary:"Vartotojai"})]},"Vartotojai")}),Object(E.jsx)(D.b,{className:"link",to:"/books",children:Object(E.jsxs)(x.a,{button:!0,children:[Object(E.jsx)(O.a,{children:Object(E.jsx)(C.a,{})}),Object(E.jsx)(f.a,{primary:"Knygos"})]},"Knygos")}),Object(E.jsx)(D.b,{className:"link",to:"/bookscheckincheckout",children:Object(E.jsxs)(x.a,{button:!0,children:[Object(E.jsx)(O.a,{children:Object(E.jsx)(I.a,{})}),Object(E.jsx)(f.a,{primary:"Knyg\u0173 i\u0161davimas"})]},"Knyg\u0173 i\u0161davimas")})]}),Object(E.jsx)(h.a,{}),Object(E.jsx)(b.a,{children:Object(E.jsxs)(x.a,{button:!0,onClick:K,children:[Object(E.jsx)(O.a,{children:Object(E.jsx)(p.a,{})}),Object(E.jsx)(f.a,{primary:"Atsijungti"})]},"Atsijungti")})]}))})]},"left"),Object(E.jsx)(D.b,{className:"link",to:"/",children:Object(E.jsx)("h1",{id:"logo-img",children:" Bibliotekos sitema(logo)"})}),g?Object(E.jsx)("h3",{className:"userName",children:function(e,t){var a=e.charAt(0).toUpperCase()+e.slice(1),n=t.charAt(0).toUpperCase()+t.slice(1);return"".concat(a," ").concat(n)}(g.firstName,g.firstName)}):null]})}var z=a(16),H=a(244),q=a(232),V=a(235),M=a(252),J=a(249),G=a(243),Q=a(138),X=a.n(Q),Y=a(88),Z=a(140),$=a(246),ee=a.p+"static/media/be-fono-logo.9ff92c37.png",te=a(238),ae=a(251),ne=a(250),re=a(31),ie=a.n(re),se=Object(n.createContext)("Default Value"),ce=function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),r=a[0],i=a[1],s=Object(n.useState)(!1),c=Object(l.a)(s,2),o=c[0],u=c[1],d=Object(n.useState)("info"),j=Object(l.a)(d,2),b=j[0],h=j[1],x=[r,b,o,function(e,t){u(!0),i(e),h(t)},function(){i(""),u(!1)}];return Object(E.jsx)(se.Provider,{value:x,children:e.children})};function oe(){var e=Object(n.useContext)(se),t=Object(l.a)(e,5),a=t[0],r=t[1],i=t[2],s=(t[3],t[4]);return Object(E.jsx)(u.a,{className:"alert error",children:Object(E.jsx)(ne.a,{in:i,children:Object(E.jsx)(te.a,{variant:"filled",severity:r,action:Object(E.jsx)(ae.a,{"aria-label":"close",color:"inherit",size:"small",onClick:s,children:Object(E.jsx)(ie.a,{fontSize:"inherit"})}),sx:{mb:2},children:a})})})}var le=Object(Z.a)();function ue(){var e=Object(n.useContext)(se),t=Object(l.a)(e,5),a=(t[0],t[1],t[2],t[3]),r=t[4],i=function(){var e=Object(N.a)(L.a.mark((function e(t,n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A({email:t,password:n});case 3:a("Pavyko prisijungti","success"),setTimeout((function(){r(),window.location="/users"}),500),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(e.t0.response.data.msg,"error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(E.jsx)($.a,{theme:le,children:Object(E.jsxs)(G.a,{container:!0,component:"main",sx:{height:"100vh"},children:[Object(E.jsx)(q.a,{}),Object(E.jsx)(G.a,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(".concat(ee,")"),backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),Object(E.jsx)(G.a,{item:!0,xs:12,sm:8,md:5,component:J.a,elevation:6,square:!0,children:Object(E.jsxs)(u.a,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(E.jsx)(H.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(E.jsx)(X.a,{})}),Object(E.jsx)(Y.a,{component:"h1",variant:"h5",children:"Prisijungti"}),Object(E.jsxs)(u.a,{component:"form",noValidate:!0,onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);i(t.get("email"),t.get("password"))},sx:{mt:1},children:[Object(E.jsx)(V.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"El. Pa\u0161tas",name:"email",autoComplete:"email",autoFocus:!0}),Object(E.jsx)(V.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Slapta\u017eodis",type:"password",id:"password",autoComplete:"current-password"}),Object(E.jsx)(j.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Prisijungti"}),Object(E.jsxs)(G.a,{container:!0,children:[Object(E.jsx)(G.a,{item:!0,xs:!0,children:Object(E.jsx)(M.a,{href:"/reset",variant:"body2",children:"Pamir\u0161ote slapta\u017eod\u012f?"})}),Object(E.jsx)(G.a,{item:!0,children:Object(E.jsx)(M.a,{href:"/newuser",variant:"body2",children:"Neturi paskyros?"})})]})]})]})})]})})}var de=a(255),je=a(64),be=a.n(je),he=a(63),xe=a.n(he),Oe=a(258),fe=a(262),me=a(261),pe=a(257),ge=a(259),ve=a(236),ke=a(260);function Ce(e){return Object(E.jsx)("div",{className:"addUserContainer",children:Object(E.jsx)(de.a,{className:"addUserForm",sx:{marginTop:10,width:500,height:600,backgroundColor:"#F5F5F5",borderRadius:2},children:Object(E.jsxs)(G.a,{container:!0,spacing:2,justify:"center",children:[Object(E.jsx)(G.a,{item:!0,xs:10,children:Object(E.jsx)("h2",{children:"Informacij\u0105 apie vartotoj\u0105"})}),Object(E.jsx)(G.a,{item:!0,xs:2,onClick:e.handleChange,children:Object(E.jsx)(ie.a,{sx:{fontSize:40,color:"#252525",padding:1}})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsxs)("h3",{children:[e.userInfo.cardID," - ",e.userInfo.firstName," ",e.userInfo.lastName]})}),Object(E.jsx)(G.a,{align:"center",item:!0,xs:12,children:Object(E.jsx)(j.a,{variant:"contained",children:"Prid\u0117ti"})})]})})})}var we=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL||"http://localhost:5000";function Ie(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(N.a)(L.a.mark((function e(t){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("".concat(we,"/users/register"),t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(){return De.apply(this,arguments)}function De(){return(De=Object(N.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat(we,"/users/allUsers"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(N.a)(L.a.mark((function e(t){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.delete("".concat(we,"/users/deleteUser"),{data:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e){return We.apply(this,arguments)}function We(){return(We=Object(N.a)(L.a.mark((function e(t){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("".concat(we,"/users/oneUser"),t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e){return Re.apply(this,arguments)}function Re(){return(Re=Object(N.a)(L.a.mark((function e(t){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.put("".concat(we,"/users/updateUser"),t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}F.a.interceptors.request.use((function(e){return e.headers.common["x-auth-token"]="".concat(localStorage.getItem("token")),e}));var Ue=a(15),Ae=Object(n.createContext)([]),Te=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),r=a[0],i=a[1];return Object(E.jsx)(Ae.Provider,{value:{allUserslist:r,setAllUsersList:i,handleDeleteUserContext:function(e){console.log(r);var t=r.filter((function(t){return t.cardID!==e}));i(t)},handleUpdateUserContext:function(e,t){var a=r.filter((function(t){return t.cardID!==e}));i([{firstName:t.firstName,lastName:t.lastName,cardID:t.cardID,grade:t.grade}].concat(Object(Ue.a)(a)))}},children:e.children})};function Be(e){var t=Object(n.useContext)(Ae),a=Object(n.useContext)(se),r=Object(l.a)(a,5),i=(r[0],r[1],r[2],r[3]),s=(r[4],function(){var a=Object(N.a)(L.a.mark((function a(){var n,r;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=e.userInfo.cardID,console.log({cardID:n}),a.next=5,Ne({cardID:e.userInfo.cardID});case 5:r=a.sent,r.data,t.handleDeleteUserContext(e.userInfo.cardID),i("Vartotojas buvo s\u0117kmingai panaikintas!","success"),e.closeConfirmation(),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(0),console.log(a.t0.response.data),i(a.t0.response.data.msg,"error");case 16:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(){return a.apply(this,arguments)}}());return Object(E.jsx)("div",{className:"addUserContainer",children:Object(E.jsx)(de.a,{className:"addUserForm",sx:{width:500,height:320,marginTop:"120px",backgroundColor:"#F5F5F5",borderRadius:"1%"},children:Object(E.jsxs)(G.a,{container:!0,spacing:3,justify:"center",children:[Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)("h2",{className:"centerHeader",children:"Ar tikrai norite panaikinti \u0161\u012f vartotoj\u0105?"})}),Object(E.jsxs)(G.a,{item:!0,xs:12,children:[Object(E.jsxs)("h3",{className:"centerHeader",children:["Kortel\u0117s id - ",e.userInfo.cardID]}),Object(E.jsxs)("h3",{className:"centerHeader",children:[e.userInfo.firstName," ",e.userInfo.lastName]})]}),Object(E.jsx)(G.a,{align:"right",item:!0,xs:6,children:Object(E.jsx)(j.a,{size:"large",color:"error",variant:"contained",onClick:s,children:"I\u0161trinti"})}),Object(E.jsx)(G.a,{align:"left",item:!0,xs:6,children:Object(E.jsx)(j.a,{size:"large",variant:"contained",onClick:e.handleChange,children:"At\u0161aukti"})})]})})})}var Ke=a(256);function Ee(e){var t=Object(n.useContext)(se),a=Object(l.a)(t,5),r=(a[0],a[1],a[2],a[3]),i=(a[4],Object(n.useContext)(Ae)),s=Object(n.useState)(!1),u=Object(l.a)(s,2),d=u[0],b=u[1],h=Object(n.useState)({firstName:"",lastName:"",cardID:"",grade:"",email:"",password:"",passwordCheck:""}),x=Object(l.a)(h,2),O=x[0],f=x[1],m=function(e){var t=e.target,a=t.name,n=t.value;f(Object(o.a)(Object(o.a)({},O),{},Object(c.a)({},a,n)))},p=function(){var e=Object(N.a)(L.a.mark((function e(t){var a,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Le({cardID:t});case 3:a=e.sent,n=a.data,f({firstName:n.user.firstName,lastName:n.user.lastName,cardID:n.user.cardID,grade:n.user.grade,email:n.user.email,password:"",passwordCheck:""}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r(e.t0.response.data.msg,"error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){console.log(window.localStorage.getItem("token")),b(!0);try{p(e.userInfo.cardID)}catch(t){r(t.response.data.msg,"error")}b(!1)}),[]);var g=function(){var e=Object(N.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe(O);case 3:t=e.sent,t.data,i.handleUpdateUserContext(O.cardID,O),r("Vartotojas atnaujintas!","success"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data),r(e.t0.response.data.msg,"error");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"addUserContainer",children:Object(E.jsx)(de.a,{sx:{width:500,height:650,marginTop:"120px",backgroundColor:"#F5F5F5",borderRadius:"1%"},children:d?Object(E.jsx)(Ke.a,{sx:{display:"flex",margin:"auto",padding:15}}):Object(E.jsxs)(G.a,{container:!0,spacing:2,justify:"center",children:[Object(E.jsx)(G.a,{item:!0,xs:10,children:Object(E.jsx)("h2",{children:"Atnaujinti vartotoj\u0105"})}),Object(E.jsx)(G.a,{item:!0,xs:2,onClick:e.handleChange,children:Object(E.jsx)(ie.a,{sx:{fontSize:40,color:"#252525",padding:1}})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)(V.a,{name:"cardID",value:O.cardID,onChange:m,fullWidth:!0,required:!0,disabled:!0,autoComplete:"disabled",label:"Kortel\u0117s id",variant:"outlined"})}),Object(E.jsx)(G.a,{item:!0,xs:6,children:Object(E.jsx)(V.a,{name:"firstName",value:O.firstName,onChange:m,fullWidth:!0,required:!0,autoComplete:"disabled",label:"Vardas",variant:"outlined"})}),Object(E.jsx)(G.a,{item:!0,xs:6,children:Object(E.jsx)(V.a,{name:"lastName",value:O.lastName,onChange:m,fullWidth:!0,required:!0,autoComplete:"disabled",label:"Pavard\u0117",variant:"outlined"})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)(V.a,{name:"grade",value:O.grade,onChange:m,fullWidth:!0,required:!0,autoComplete:"disabled",label:"Klas\u0117",variant:"outlined"})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)("h3",{children:"Vaiko prisijungimo duomenys"})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)(V.a,{name:"email",value:O.email,onChange:m,fullWidth:!0,required:!0,autoComplete:"disabled",label:"El. pa\u0161tas",variant:"outlined"})}),Object(E.jsx)(G.a,{item:!0,xs:6,children:Object(E.jsx)(V.a,{name:"password",value:O.password,onChange:m,fullWidth:!0,required:!0,type:"password",autoComplete:"disabled",label:"Slapta\u017eodis",variant:"outlined"})}),Object(E.jsx)(G.a,{item:!0,xs:6,children:Object(E.jsx)(V.a,{name:"passwordCheck",value:O.passwordCheck,onChange:m,fullWidth:!0,required:!0,autoComplete:"disabled",type:"password",label:"Pakartotas slapta\u017eodis",variant:"outlined"})}),Object(E.jsx)(G.a,{align:"center",item:!0,xs:12,children:Object(E.jsx)(j.a,{onClick:g,size:"large",variant:"contained",sx:{padding:1,width:"50%",margin:"20px 0"},children:"Redaguoti"})})]})})})}var _e=[{id:"cardID",label:"Kortel\u0117s ID",width:50,minWidth:50},{id:"firstName",label:"Vardas",width:150,minWidth:150},{id:"lastName",label:"Pavard\u0117",width:150,minWidth:150},{id:"grade",label:"Klas\u0117",width:10,minWidth:10},{id:"actions",label:"Veiksmai",width:100,minWidth:100,align:"right"}],ze=Object(n.forwardRef)((function(e,t){var a=Object(n.useState)(0),r=Object(l.a)(a,2),i=r[0],s=r[1],c=Object(n.useState)(10),o=Object(l.a)(c,2),u=o[0],d=o[1],b=Object(n.useState)(!1),h=Object(l.a)(b,2),x=h[0],O=h[1],f=Object(n.useState)(!1),m=Object(l.a)(f,2),p=m[0],g=m[1],v=Object(n.useState)(!1),k=Object(l.a)(v,2),C=k[0],w=k[1],I=Object(n.useState)({id:"",firstName:"",lastName:""}),y=Object(l.a)(I,2),S=y[0],D=y[1];Object(n.useImperativeHandle)(t,(function(){return{setToFirstPage:W}}));var N=function(e){D({cardID:e.cardID,firstName:e.firstName,lastName:e.lastName}),console.log(S),O(!x)},P=function(e){D({cardID:e.cardID,firstName:e.firstName,lastName:e.lastName}),g(!p)},L=function(e){D({cardID:e.cardID,firstName:e.firstName,lastName:e.lastName}),console.log(S),w(!C)},W=function(){s(0)};return Object(E.jsxs)(E.Fragment,{children:[e.isLoading?Object(E.jsx)(Ke.a,{sx:{display:"flex",margin:"130px auto"}}):Object(E.jsxs)(J.a,{className:"userTable",sx:{width:"95%",overflow:"hidden"},children:[Object(E.jsx)(pe.a,{sx:{maxHeight:430},children:Object(E.jsxs)(Oe.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(E.jsx)(ge.a,{children:Object(E.jsx)(ke.a,{children:_e.map((function(e){return Object(E.jsx)(me.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(E.jsx)(fe.a,{children:e.allRowsForShowing.slice(i*u,i*u+u).map((function(e){return Object(E.jsx)(ke.a,{hover:!0,role:"checkbox",tabIndex:-1,children:_e.map((function(t){var a=e[t.id];return Object(E.jsx)(me.a,{align:t.align,children:"actions"===t.id?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(j.a,{onClick:function(){return N(e)},children:"Informacija"}),Object(E.jsx)(j.a,{onClick:function(){return P(e)},children:"Redaguoti"}),Object(E.jsx)(j.a,{onClick:function(){return L(e)},children:"I\u0161trinti"})]}):t.format&&"number"===typeof a?t.format(a):a},t.id)}))},e.cardID)}))})]})}),Object(E.jsx)(ve.a,{rowsPerPageOptions:[10,25,100],component:"div",count:e.allRowsForShowing.length,rowsPerPage:u,page:i,onPageChange:function(e,t){s(t)},onRowsPerPageChange:function(e){d(+e.target.value),s(0)}})]}),x?Object(E.jsx)(Ce,{userInfo:S,handleChange:N}):null,C?Object(E.jsx)(Be,{userInfo:S,handleChange:L,closeConfirmation:function(){w(!1)}}):null,p?Object(E.jsx)(Ee,{userInfo:S,handleChange:P}):null]})})),He=Object(n.memo)(ze),qe=a(263),Ve=[{value:"1a",label:"1a"},{value:"1b",label:"1b"},{value:"1c",label:"1c"},{value:"2a",label:"2a"},{value:"2a",label:"2a"},{value:"2a",label:"2a"},{value:"2a",label:"2a"},{value:"2a",label:"2a"},{value:"2a",label:"2a"},{value:"2a",label:"2a"},{value:"2a",label:"2a"},{value:"2a",label:"2a"},{value:"2a",label:"2a"},{value:"2a",label:"2a"},{value:"2a",label:"2a"},{value:"2a",label:"2a"}];function Me(e){var t=Object(n.useContext)(Ae),a=Object(n.useState)(e.usersList),r=Object(l.a)(a,2),i=r[0],s=r[1],c=Object(n.useState)(""),o=Object(l.a)(c,2),u=o[0],d=o[1],b=Object(n.useState)(""),h=Object(l.a)(b,2),x=h[0],O=h[1],f=Object(n.useState)(""),m=Object(l.a)(f,2),p=m[0],g=m[1],v=Object(n.useState)(""),k=Object(l.a)(v,2),C=k[0],w=k[1],I=Object(n.useRef)();return Object(n.useEffect)((function(){t.setAllUsersList(t.allUserslist),s(t.allUserslist)}),[t.allUserslist]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(de.a,{sx:{overflow:"hidden",width:"95%"},children:[Object(E.jsx)("h2",{children:"Paie\u0161ka:"}),Object(E.jsxs)(G.a,{container:!0,spacing:2,children:[Object(E.jsx)(G.a,{item:!0,xs:3,children:Object(E.jsx)(V.a,{fullWidth:!0,value:x,onChange:function(e){var t;t=e.target.value,O(t)},label:"Kortel\u0117s ID",variant:"outlined",autoComplete:"disabled"})}),Object(E.jsx)(G.a,{item:!0,xs:3,children:Object(E.jsx)(V.a,{fullWidth:!0,value:u,onChange:function(e){var t;t=e.target.value,d(t)},label:"Vardas",variant:"outlined",autoComplete:"disabled"})}),Object(E.jsx)(G.a,{item:!0,xs:3,children:Object(E.jsx)(V.a,{fullWidth:!0,value:p,onChange:function(e){var t;t=e.target.value,g(t)},label:"Pavard\u0117",variant:"outlined",autoComplete:"disabled"})}),Object(E.jsx)(G.a,{item:!0,xs:3,children:Object(E.jsx)(V.a,{fullWidth:!0,id:"outlined-select-currency",select:!0,inputProps:{MenuProps:{disableScrollLock:!0}},label:"Klas\u0117",value:C,onChange:function(e){w(e.target.value)},children:Ve.map((function(e){return Object(E.jsx)(qe.a,{value:e.value,children:e.label},e.value)}))})})]}),Object(E.jsxs)(G.a,{container:!0,spacing:2,justifyContent:"flex-end",sx:{marginTop:1},children:[Object(E.jsx)(G.a,{alignItems:"right",item:!0,xs:3,children:Object(E.jsx)(j.a,{sx:{height:"100%"},fullWidth:!0,autoComplete:"disabled",variant:"contained",size:"large",startIcon:Object(E.jsx)(xe.a,{}),onClick:function(){!function(){var e=t.allUserslist;e=(e=(e=(e=e.filter((function(e){return e.cardID.toLowerCase().includes(x.toLowerCase())}))).filter((function(e){return e.lastName.toLowerCase().includes(p.toLowerCase())}))).filter((function(e){return e.firstName.toLowerCase().includes(u.toLowerCase())}))).filter((function(e){return e.grade.toLowerCase().includes(C.toLowerCase())})),console.log(e),s(e),I.current.setToFirstPage()}()},children:"Ie\u0161koti"})}),Object(E.jsx)(G.a,{item:!0,xs:3,children:Object(E.jsx)(j.a,{sx:{height:"100%"},variant:"contained",size:"large",fullWidth:!0,startIcon:Object(E.jsx)(be.a,{}),onClick:function(){d(""),g(""),O(""),w(""),s(t.allUserslist),I.current.setToFirstPage()},children:"I\u0161valyti"})})]})]}),Object(E.jsx)(He,{ref:I,allRows:t.allUserslist,allRowsForShowing:i,handleShowUserInfo:e.handleChange,isLoading:e.isLoading})]})}function Je(e){var t=Object(n.useContext)(se),a=Object(l.a)(t,5),r=(a[0],a[1],a[2],a[3]),i=(a[4],Object(n.useState)({firstName:"",lastName:"",cardID:"",grade:"",email:"",password:"",passwordCheck:""})),s=Object(l.a)(i,2),u=s[0],d=s[1],b=function(e){var t=e.target,a=t.name,n=t.value;d(Object(o.a)(Object(o.a)({},u),{},Object(c.a)({},a,n)))},h=function(){var t=Object(N.a)(L.a.mark((function t(){var a,n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ie(u);case 3:a=t.sent,n=a.data,r("Naujas vartotojas sukurtas!","success"),e.setUsersList([{grade:u.grade,cardID:u.cardID,firstName:u.firstName,lastName:u.lastName}].concat(Object(Ue.a)(e.usersList))),console.log(n),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0.response.data),r(t.t0.response.data.msg,"error");case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"addUserContainer",children:Object(E.jsx)(de.a,{sx:{width:500,height:710,marginTop:"110px",backgroundColor:"#F5F5F5",borderRadius:"1%"},children:Object(E.jsxs)(G.a,{container:!0,spacing:2,justify:"center",children:[Object(E.jsx)(G.a,{item:!0,xs:10,children:Object(E.jsx)("h2",{children:"Prid\u0117ti vartotoj\u0105"})}),Object(E.jsx)(G.a,{item:!0,xs:2,onClick:e.handleChange,children:Object(E.jsx)(ie.a,{sx:{fontSize:40,color:"#252525",padding:1}})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)("h3",{children:"Vaiko duomenys"})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)(V.a,{name:"cardID",value:u.cardID,onChange:b,fullWidth:!0,required:!0,autoComplete:"disabled",label:"Kortel\u0117s id",variant:"outlined"})}),Object(E.jsx)(G.a,{item:!0,xs:6,children:Object(E.jsx)(V.a,{name:"firstName",value:u.firstName,onChange:b,fullWidth:!0,required:!0,autoComplete:"disabled",label:"Vardas",variant:"outlined"})}),Object(E.jsx)(G.a,{item:!0,xs:6,children:Object(E.jsx)(V.a,{name:"lastName",value:u.lastName,onChange:b,fullWidth:!0,required:!0,autoComplete:"disabled",label:"Pavard\u0117",variant:"outlined"})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)(V.a,{name:"grade",value:u.grade,onChange:b,fullWidth:!0,required:!0,autoComplete:"disabled",label:"Klas\u0117",variant:"outlined"})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)("h3",{children:"Vaiko prisijungimo duomenys"})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)(V.a,{name:"email",value:u.email,onChange:b,fullWidth:!0,required:!0,autoComplete:"disabled",label:"El. pa\u0161tas",variant:"outlined"})}),Object(E.jsx)(G.a,{item:!0,xs:6,children:Object(E.jsx)(V.a,{name:"password",value:u.password,onChange:b,fullWidth:!0,required:!0,type:"password",autoComplete:"disabled",label:"Slapta\u017eodis",variant:"outlined"})}),Object(E.jsx)(G.a,{item:!0,xs:6,children:Object(E.jsx)(V.a,{name:"passwordCheck",value:u.passwordCheck,onChange:b,fullWidth:!0,required:!0,autoComplete:"disabled",type:"password",label:"Pakartotas slapta\u017eodis",variant:"outlined"})}),Object(E.jsx)(G.a,{align:"center",item:!0,xs:12,children:Object(E.jsx)(j.a,{onClick:h,size:"large",variant:"contained",sx:{padding:1,width:"50%",margin:"20px 0"},children:"Prid\u0117ti"})})]})})})}function Ge(){var e=Object(n.useContext)(Ae),t=Object(n.useState)(!1),a=Object(l.a)(t,2),r=a[0],i=a[1],s=Object(n.useState)(!1),c=Object(l.a)(s,2),o=c[0],u=c[1];function d(){return(d=Object(N.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B();case 3:(t=e.sent)||(window.location="/unauthorized"),"ADMIN"!==t.role&&(window.location="/student"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),window.location="/unauthorized";case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function b(){return(b=Object(N.a)(L.a.mark((function t(){var a,n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),t.prev=1,t.next=4,Se();case 4:a=t.sent,n=a.data,e.setAllUsersList(n.users),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:i(!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}Object(n.useEffect)((function(){e.allUserslist<=0&&function(){b.apply(this,arguments)}(),function(){d.apply(this,arguments)}()}),[]);var h=function(){u(!o)};return Object(E.jsxs)("div",{children:[Object(E.jsx)(_,{}),Object(E.jsx)("h1",{className:"centerHeader",children:"Vartotojai"}),Object(E.jsx)(j.a,{onClick:h,className:"addUser-btn",variant:"contained",children:"Prid\u0117ti vartotoj\u0105"}),Object(E.jsx)(Me,{usersList:e.allUserslist,isLoading:r}),o?Object(E.jsx)(Je,{handleChange:h,setUsersList:e.setAllUsersList,usersList:e.allUserslist}):null]})}var Qe=Object(n.createContext)([]),Xe=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),r=a[0],i=a[1];return Object(E.jsx)(Qe.Provider,{value:{allBooksList:r,setAllBooksList:i,handleDeleteBookContext:function(e){var t=r.filter((function(t){return t.bookID!==e}));i(t)},handleUpdateBookContext:function(e,t){var a=r.filter((function(t){return t.bookID!==e}));i([{bookID:t.bookID,title:t.title,author:t.author,description:t.description}].concat(Object(Ue.a)(a)))}},children:e.children})};function Ye(e){return Object(E.jsx)("div",{className:"addUserContainer",children:Object(E.jsx)(de.a,{className:"addUserForm",sx:{marginTop:10,width:500,height:600,backgroundColor:"#F5F5F5",borderRadius:2},children:Object(E.jsxs)(G.a,{container:!0,spacing:2,justify:"center",children:[Object(E.jsx)(G.a,{item:!0,xs:10,children:Object(E.jsx)("h2",{children:"Informacij\u0105 apie knyg\u0105"})}),Object(E.jsx)(G.a,{item:!0,xs:2,onClick:e.handleChange,children:Object(E.jsx)(ie.a,{sx:{fontSize:40,color:"#252525",padding:1}})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsxs)("h3",{children:[e.bookInfo.bookID," - ",e.bookInfo.title," ",e.bookInfo.author]})}),Object(E.jsx)(G.a,{align:"center",item:!0,xs:12,children:Object(E.jsx)(j.a,{variant:"contained",children:"Prid\u0117ti"})})]})})})}var Ze=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL||"http://localhost:5000";function $e(e){return et.apply(this,arguments)}function et(){return(et=Object(N.a)(L.a.mark((function e(t){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("".concat(Ze,"/books/newBook"),t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(){return at.apply(this,arguments)}function at(){return(at=Object(N.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat(Ze,"/books/allBooks"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(e){return rt.apply(this,arguments)}function rt(){return(rt=Object(N.a)(L.a.mark((function e(t){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.delete("".concat(Ze,"/books/deleteBook"),{data:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e){return st.apply(this,arguments)}function st(){return(st=Object(N.a)(L.a.mark((function e(t){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("".concat(Ze,"/books/oneBook"),t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e){return ot.apply(this,arguments)}function ot(){return(ot=Object(N.a)(L.a.mark((function e(t){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.put("".concat(Ze,"/books/updateBook"),t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(e){var t=Object(n.useContext)(Qe),a=Object(n.useContext)(se),r=Object(l.a)(a,5),i=(r[0],r[1],r[2],r[3]),s=(r[4],function(){var a=Object(N.a)(L.a.mark((function a(){var n;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,nt({bookID:e.bookInfo.bookID});case 3:n=a.sent,n.data,t.handleDeleteBookContext(e.bookInfo.bookID),i("Knyga buvo s\u0117kmingai panaikinta!","success"),e.closeConfirmation(),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),i(a.t0.response.data.msg,"error");case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(){return a.apply(this,arguments)}}());return Object(E.jsx)("div",{className:"addUserContainer",children:Object(E.jsx)(de.a,{className:"addUserForm",sx:{width:500,height:320,marginTop:"120px",backgroundColor:"#F5F5F5",borderRadius:"1%"},children:Object(E.jsxs)(G.a,{container:!0,spacing:3,justify:"center",children:[Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)("h2",{className:"centerHeader",children:"Ar tikrai norite panaikinti \u0161i\u0105 knyg\u0105?"})}),Object(E.jsxs)(G.a,{item:!0,xs:12,children:[Object(E.jsxs)("h3",{className:"centerHeader",children:["Knygos id - ",e.bookInfo.bookID]}),Object(E.jsxs)("h3",{className:"centerHeader",children:[e.bookInfo.title,"-",e.bookInfo.author]})]}),Object(E.jsx)(G.a,{align:"right",item:!0,xs:6,children:Object(E.jsx)(j.a,{size:"large",color:"error",variant:"contained",onClick:s,children:"I\u0161trinti"})}),Object(E.jsx)(G.a,{align:"left",item:!0,xs:6,children:Object(E.jsx)(j.a,{size:"large",variant:"contained",onClick:e.handleChange,children:"At\u0161aukti"})})]})})})}function ut(e){var t=Object(n.useContext)(se),a=Object(l.a)(t,5),r=(a[0],a[1],a[2],a[3]),i=(a[4],Object(n.useContext)(Qe)),s=Object(n.useState)(!1),u=Object(l.a)(s,2),d=u[0],b=u[1],h=Object(n.useState)({bookID:"",title:"",author:"",description:""}),x=Object(l.a)(h,2),O=x[0],f=x[1],m=function(e){var t=e.target,a=t.name,n=t.value;f(Object(o.a)(Object(o.a)({},O),{},Object(c.a)({},a,n)))},p=function(){var e=Object(N.a)(L.a.mark((function e(t){var a,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,it({bookID:t});case 3:a=e.sent,n=a.data,f({bookID:n.book.bookID,title:n.book.title,author:n.book.author,description:n.book.description}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r(e.t0.response.data.msg,"error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){b(!0);try{p(e.bookInfo.bookID)}catch(t){r(t.response.data.msg,"error")}b(!1)}),[]);var g=function(){var e=Object(N.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ct(O);case 3:t=e.sent,t.data,i.handleUpdateBookContext(O.bookID,O),r("Knyga atnaujinta!","success"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data),r(e.t0.response.data.msg,"error");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"addUserContainer",children:Object(E.jsx)(de.a,{sx:{width:500,height:650,marginTop:"120px",backgroundColor:"#F5F5F5",borderRadius:"1%"},children:d?Object(E.jsx)(Ke.a,{sx:{display:"flex",margin:"auto",padding:15}}):Object(E.jsxs)(G.a,{container:!0,spacing:2,justify:"center",children:[Object(E.jsx)(G.a,{item:!0,xs:10,children:Object(E.jsx)("h2",{children:"Atnaujinti knyga"})}),Object(E.jsx)(G.a,{item:!0,xs:2,onClick:e.handleChange,children:Object(E.jsx)(ie.a,{sx:{fontSize:40,color:"#252525",padding:1}})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)(V.a,{name:"bookID",disabled:!0,value:O.bookID,onChange:m,fullWidth:!0,required:!0,autoComplete:"disabled",label:"Knygos id",variant:"outlined"})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)(V.a,{name:"title",value:O.title,onChange:m,fullWidth:!0,required:!0,autoComplete:"disabled",label:"Knygos pavadinimas",variant:"outlined"})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)(V.a,{name:"author",value:O.author,onChange:m,fullWidth:!0,required:!0,autoComplete:"disabled",label:"Autorius",variant:"outlined"})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)("h3",{children:"Knygos apra\u0161ymas"})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)(V.a,{minRows:4,multiline:!0,maxRows:4,name:"description",value:O.description,onChange:m,fullWidth:!0,label:"Apra\u0161ymas",variant:"outlined"})}),Object(E.jsx)(G.a,{align:"center",item:!0,xs:12,children:Object(E.jsx)(j.a,{onClick:g,size:"large",variant:"contained",sx:{padding:1,width:"50%",margin:"20px 0"},children:"Redaguoti"})})]})})})}F.a.interceptors.request.use((function(e){return e.headers.common["x-auth-token"]="".concat(localStorage.getItem("token")),e}));var dt=[{id:"bookID",label:"Knygos ID",width:50,minWidth:50},{id:"title",label:"Pavadinimas",width:150,minWidth:150},{id:"author",label:"Autorius",width:150,minWidth:150},{id:"actions",label:"Veiksmai",width:100,minWidth:100,align:"right"}],jt=Object(n.forwardRef)((function(e,t){var a=Object(n.useState)(!1),r=Object(l.a)(a,2),i=r[0],s=r[1],c=Object(n.useState)(!1),o=Object(l.a)(c,2),u=o[0],d=o[1],b=Object(n.useState)(!1),h=Object(l.a)(b,2),x=h[0],O=h[1],f=Object(n.useState)({bookID:"",title:"",author:""}),m=Object(l.a)(f,2),p=m[0],g=m[1],v=Object(n.useState)(0),k=Object(l.a)(v,2),C=k[0],w=k[1],I=Object(n.useState)(10),y=Object(l.a)(I,2),S=y[0],D=y[1],N=function(e){g({bookID:e.bookID,title:e.title,author:e.author}),O(!x)};Object(n.useImperativeHandle)(t,(function(){return{setToFirstPage:P}}));var P=function(){w(0)},L=function(e){g({bookID:e.bookID,title:e.title,author:e.author}),s(!i)},W=function(e){g({bookID:e.bookID,title:e.title,author:e.author}),d(!u)};return Object(E.jsxs)(E.Fragment,{children:[e.isLoading?Object(E.jsx)(Ke.a,{sx:{display:"flex",margin:"150px auto"}}):Object(E.jsxs)(J.a,{className:"userTable",sx:{width:"95%",overflow:"hidden"},children:[Object(E.jsx)(pe.a,{sx:{maxHeight:430},children:Object(E.jsxs)(Oe.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(E.jsx)(ge.a,{children:Object(E.jsx)(ke.a,{children:dt.map((function(e){return Object(E.jsx)(me.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(E.jsx)(fe.a,{children:e.allRowsForShowing.slice(C*S,C*S+S).map((function(e){return Object(E.jsx)(ke.a,{hover:!0,role:"checkbox",tabIndex:-1,children:dt.map((function(t){var a=e[t.id];return Object(E.jsx)(me.a,{align:t.align,children:"actions"===t.id?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(j.a,{onClick:function(){return N(e)},children:"Informacija"}),Object(E.jsx)(j.a,{onClick:function(){return W(e)},children:"Redaguoti"}),Object(E.jsx)(j.a,{onClick:function(){return L(e)},children:"I\u0161trinti"})]}):t.format&&"number"===typeof a?t.format(a):a},t.id)}))},e.cardID)}))})]})}),Object(E.jsx)(ve.a,{rowsPerPageOptions:[10,25,100],component:"div",count:e.allRowsForShowing.length,rowsPerPage:S,page:C,onPageChange:function(e,t){w(t)},onRowsPerPageChange:function(e){D(+e.target.value),w(0)}})]}),x?Object(E.jsx)(Ye,{bookInfo:p,handleChange:N}):null,i?Object(E.jsx)(lt,{bookInfo:p,handleChange:L,closeConfirmation:function(){s(!1)}}):null,u?Object(E.jsx)(ut,{bookInfo:p,handleChange:W}):null]})})),bt=Object(n.memo)(jt);function ht(e){var t=Object(n.useContext)(Qe),a=Object(n.useState)(e.booksList),r=Object(l.a)(a,2),i=r[0],s=r[1],c=Object(n.useState)(""),o=Object(l.a)(c,2),u=o[0],d=o[1],b=Object(n.useState)(""),h=Object(l.a)(b,2),x=h[0],O=h[1],f=Object(n.useState)(""),m=Object(l.a)(f,2),p=m[0],g=m[1],v=Object(n.useRef)();return Object(n.useEffect)((function(){t.setAllBooksList(t.allBooksList),s(t.allBooksList)}),[t.allBooksList]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(de.a,{sx:{overflow:"hidden",width:"95%"},children:[Object(E.jsx)("h2",{children:"Paie\u0161ka:"}),Object(E.jsxs)(G.a,{container:!0,spacing:2,children:[Object(E.jsx)(G.a,{item:!0,xs:4,children:Object(E.jsx)(V.a,{fullWidth:!0,value:x,onChange:function(e){var t;t=e.target.value,O(t)},label:"Knygos ID",variant:"outlined",autoComplete:"disabled"})}),Object(E.jsx)(G.a,{item:!0,xs:4,children:Object(E.jsx)(V.a,{fullWidth:!0,value:u,onChange:function(e){var t;t=e.target.value,d(t)},label:"Pavadinimas",variant:"outlined",autoComplete:"disabled"})}),Object(E.jsx)(G.a,{item:!0,xs:4,children:Object(E.jsx)(V.a,{fullWidth:!0,value:p,onChange:function(e){var t;t=e.target.value,g(t)},label:"Autorius",variant:"outlined",autoComplete:"disabled"})})]}),Object(E.jsxs)(G.a,{container:!0,spacing:2,justifyContent:"flex-end",sx:{marginTop:1},children:[Object(E.jsx)(G.a,{alignItems:"right",item:!0,xs:3,children:Object(E.jsx)(j.a,{sx:{height:"100%"},fullWidth:!0,autoComplete:"disabled",variant:"contained",size:"large",startIcon:Object(E.jsx)(xe.a,{}),onClick:function(){!function(){var e=t.allBooksList;e=(e=(e=e.filter((function(e){return e.bookID.toLowerCase().includes(x.toLowerCase())}))).filter((function(e){return e.author.toLowerCase().includes(p.toLowerCase())}))).filter((function(e){return e.title.toLowerCase().includes(u.toLowerCase())})),console.log(e),s(e),v.current.setToFirstPage()}()},children:"Ie\u0161koti"})}),Object(E.jsx)(G.a,{item:!0,xs:3,children:Object(E.jsx)(j.a,{sx:{height:"100%"},variant:"contained",size:"large",fullWidth:!0,startIcon:Object(E.jsx)(be.a,{}),onClick:function(){d(""),g(""),O(""),s(t.allBooksList),v.current.setToFirstPage()},children:"I\u0161valyti"})})]})]}),Object(E.jsx)(bt,{ref:v,allRows:t.allBooksList,allRowsForShowing:i,handleShowUserInfo:e.handleChange,isLoading:e.isLoading})]})}function xt(e){var t=Object(n.useContext)(se),a=Object(l.a)(t,7),r=(a[0],a[1]),i=(a[2],a[3]),s=(a[4],a[5]),u=(a[6],Object(n.useState)({bookID:"",title:"",author:"",description:""})),d=Object(l.a)(u,2),b=d[0],h=d[1],x=function(e){var t=e.target,a=t.name,n=t.value;h(Object(o.a)(Object(o.a)({},b),{},Object(c.a)({},a,n)))},O=function(){var t=Object(N.a)(L.a.mark((function t(){var a;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$e(b);case 3:a=t.sent,a.data,s("success"),r("Naujas knyga sukurta!"),i(!0);try{e.setBooksList([{bookID:b.bookID,title:b.title,author:b.author,description:b.description}].concat(Object(Ue.a)(e.booksList)))}catch(n){s("error"),r("Ups... Ka\u017ekas nutiko negerai..."),i(!0)}t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),s("error"),r(t.t0.response.data.msg),i(!0);case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"addUserContainer",children:Object(E.jsx)(de.a,{sx:{width:500,height:710,marginTop:"110px",backgroundColor:"#F5F5F5",borderRadius:"1%"},children:Object(E.jsxs)(G.a,{container:!0,spacing:2,justify:"center",children:[Object(E.jsx)(G.a,{item:!0,xs:10,children:Object(E.jsx)("h2",{children:"Prid\u0117ti knyg\u0105"})}),Object(E.jsx)(G.a,{item:!0,xs:2,onClick:e.handleChange,children:Object(E.jsx)(ie.a,{sx:{fontSize:40,color:"#252525",padding:1}})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)("h3",{children:"Knygos duomenys"})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)(V.a,{name:"bookID",value:b.bookID,onChange:x,fullWidth:!0,required:!0,autoComplete:"disabled",label:"Knygos id",variant:"outlined"})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)(V.a,{name:"title",value:b.title,onChange:x,fullWidth:!0,required:!0,autoComplete:"disabled",label:"Knygos pavadinimas",variant:"outlined"})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)(V.a,{name:"author",value:b.author,onChange:x,fullWidth:!0,required:!0,autoComplete:"disabled",label:"Autorius",variant:"outlined"})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)("h3",{children:"Knygos apra\u0161ymas"})}),Object(E.jsx)(G.a,{item:!0,xs:12,children:Object(E.jsx)(V.a,{minRows:4,multiline:!0,maxRows:4,name:"description",value:b.description,onChange:x,fullWidth:!0,label:"Apra\u0161ymas",variant:"outlined"})}),Object(E.jsx)(G.a,{align:"center",item:!0,xs:12,children:Object(E.jsx)(j.a,{onClick:O,size:"large",variant:"contained",sx:{padding:1,width:"50%",margin:"20px 0"},children:"Prid\u0117ti"})})]})})})}function Ot(){var e=Object(n.useContext)(Qe),t=Object(n.useState)(!1),a=Object(l.a)(t,2),r=a[0],i=a[1],s=Object(n.useState)(!1),c=Object(l.a)(s,2),o=c[0],u=c[1],d=function(){i(!r)};function b(){return(b=Object(N.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B();case 3:(t=e.sent)||(window.location="/unauthorized"),"ADMIN"!==t.role&&(window.location="/student"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),window.location="/unauthorized";case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function h(){return(h=Object(N.a)(L.a.mark((function t(){var a,n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.prev=1,t.next=4,tt();case 4:a=t.sent,n=a.data,console.log(n.books),e.setAllBooksList(n.books),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:u(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){e.allBooksList<=0&&function(){h.apply(this,arguments)}(),console.log(e.allBooksList),function(){b.apply(this,arguments)}()}),[]),Object(E.jsxs)("div",{children:[Object(E.jsx)(_,{}),Object(E.jsx)("h1",{className:"centerHeader",children:"Knygos"}),Object(E.jsx)(j.a,{onClick:d,className:"addUser-btn",variant:"contained",children:"Prid\u0117ti knyg\u0105"}),Object(E.jsx)(ht,{booksList:e.allBooksList,isLoading:o}),r?Object(E.jsx)(xt,{handleChange:d,setBooksList:e.setAllBooksList,booksList:e.allBooksList}):null]})}var ft=Object(n.createContext)([]),mt=function(e){var t=Object(n.useContext)(se),a=Object(l.a)(t,5),r=(a[0],a[1],a[2],a[3]),i=(a[4],Object(n.useState)([])),s=Object(l.a)(i,2),c=s[0],o=s[1];return Object(E.jsx)(ft.Provider,{value:{allBooksCartList:c,setAllBooksCartList:o,handleDeleteBooksCartContext:function(e){var t=c.filter((function(t){return t.bookID!==e}));o(t)},handleAddBooksCartContext:function(e){var t={bookID:e.bookID,title:e.title,author:e.author,description:e.description};c.some((function(t){return t.bookID===e.bookID}))?r("\u0160i knyga jau krep\u0161elyje","error"):o([t].concat(Object(Ue.a)(c)))}},children:e.children})},pt=[{id:"bookID",label:"Knygos ID",width:50,minWidth:50},{id:"title",label:"Pavadinimas",width:150,minWidth:150},{id:"author",label:"Autorius",width:150,minWidth:150},{id:"actions",label:"Veiksmai",width:100,minWidth:100,align:"right"}],gt=Object(n.forwardRef)((function(e,t){var a=Object(n.useContext)(ft),r=Object(n.useState)(!1),i=Object(l.a)(r,2),s=i[0],c=i[1],o=Object(n.useState)({bookID:"",title:"",author:""}),u=Object(l.a)(o,2),d=u[0],b=u[1],h=Object(n.useState)(0),x=Object(l.a)(h,2),O=x[0],f=x[1],m=Object(n.useState)(10),p=Object(l.a)(m,2),g=p[0],v=p[1],k=function(e){b({bookID:e.bookID,title:e.title,author:e.author}),c(!s)};Object(n.useImperativeHandle)(t,(function(){return{setToFirstPage:C}}));var C=function(){f(0)};return Object(E.jsxs)(E.Fragment,{children:[e.isLoading?Object(E.jsx)(Ke.a,{sx:{display:"flex",margin:"100px auto"}}):Object(E.jsxs)(J.a,{sx:{width:"100%",overflow:"hidden"},children:[Object(E.jsx)(pe.a,{sx:{maxHeight:400},children:Object(E.jsxs)(Oe.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(E.jsx)(ge.a,{children:Object(E.jsx)(ke.a,{children:pt.map((function(e){return Object(E.jsx)(me.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(E.jsx)(fe.a,{children:e.allRowsForShowing.slice(O*g,O*g+g).map((function(e){return Object(E.jsx)(ke.a,{hover:!0,role:"checkbox",tabIndex:-1,children:pt.map((function(t){var n=e[t.id];return Object(E.jsx)(me.a,{align:t.align,children:"actions"===t.id?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(j.a,{onClick:function(){return k(e)},children:"Informacija"}),Object(E.jsx)(j.a,{onClick:function(){return a.handleAddBooksCartContext(e)},children:"Pird\u0117ti"})]}):t.format&&"number"===typeof n?t.format(n):n},t.id)}))},e.cardID)}))})]})}),Object(E.jsx)(ve.a,{rowsPerPageOptions:[10,25,100],component:"div",count:e.allRowsForShowing.length,rowsPerPage:g,page:O,onPageChange:function(e,t){f(t)},onRowsPerPageChange:function(e){v(+e.target.value),f(0)}})]}),s?Object(E.jsx)(Ye,{bookInfo:d,handleChange:k}):null]})})),vt=Object(n.memo)(gt),kt=[{id:"bookID",label:"Knygos ID",width:50,minWidth:50},{id:"title",label:"Pavadinimas",width:150,minWidth:150},{id:"author",label:"Autorius",width:150,minWidth:150},{id:"actions",label:"Veiksmai",width:100,minWidth:100,align:"right"}],Ct=Object(n.forwardRef)((function(e,t){var a=Object(n.useContext)(ft),r=Object(n.useState)(!1),i=Object(l.a)(r,2),s=i[0],c=i[1],o=Object(n.useState)({bookID:"",title:"",author:""}),u=Object(l.a)(o,2),d=u[0],b=u[1],h=Object(n.useState)(0),x=Object(l.a)(h,2),O=x[0],f=x[1],m=Object(n.useState)(10),p=Object(l.a)(m,2),g=p[0],v=p[1],k=function(e){b({bookID:e.bookID,title:e.title,author:e.author}),c(!s)};Object(n.useImperativeHandle)(t,(function(){return{setToFirstPage:C}}));var C=function(){f(0)};return Object(E.jsxs)(E.Fragment,{children:[e.isLoading?Object(E.jsx)(Ke.a,{sx:{display:"flex",margin:"100px auto"}}):Object(E.jsxs)(J.a,{sx:{width:"100%",overflow:"hidden"},children:[Object(E.jsx)(pe.a,{sx:{maxHeight:400},children:Object(E.jsxs)(Oe.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(E.jsx)(ge.a,{children:Object(E.jsx)(ke.a,{children:kt.map((function(e){return Object(E.jsx)(me.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(E.jsx)(fe.a,{children:e.allRowsForShowing.slice(O*g,O*g+g).map((function(e){return Object(E.jsx)(ke.a,{hover:!0,role:"checkbox",tabIndex:-1,children:kt.map((function(t){var n=e[t.id];return Object(E.jsx)(me.a,{align:t.align,children:"actions"===t.id?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(j.a,{onClick:function(){return k(e)},children:"Informacija"}),Object(E.jsx)(j.a,{onClick:function(){return a.handleDeleteBooksCartContext(e.bookID)},children:"Pa\u0161alinti"})]}):t.format&&"number"===typeof n?t.format(n):n},t.id)}))},e.cardID)}))})]})}),Object(E.jsx)(ve.a,{rowsPerPageOptions:[10,25,100],component:"div",count:e.allRowsForShowing.length,rowsPerPage:g,page:O,onPageChange:function(e,t){f(t)},onRowsPerPageChange:function(e){v(+e.target.value),f(0)}})]}),s?Object(E.jsx)(Ye,{bookInfo:d,handleChange:k}):null]})})),wt=Object(n.memo)(Ct),It=a(139),yt=a.n(It);function St(e){var t=Object(n.useContext)(Qe),a=Object(n.useContext)(ft),r=Object(n.useState)(e.booksList),i=Object(l.a)(r,2),s=i[0],c=i[1],o=Object(n.useState)(""),u=Object(l.a)(o,2),d=u[0],b=u[1],h=Object(n.useState)(""),x=Object(l.a)(h,2),O=x[0],f=x[1],m=Object(n.useState)(""),p=Object(l.a)(m,2),g=p[0],v=p[1],k=Object(n.useRef)();return Object(n.useEffect)((function(){t.setAllBooksList(t.allBooksList),c(t.allBooksList)}),[t.allBooksList]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(de.a,{sx:{overflow:"hidden",width:"95%"},children:[Object(E.jsx)("h2",{children:"Paie\u0161ka:"}),Object(E.jsxs)(G.a,{container:!0,spacing:1,children:[Object(E.jsx)(G.a,{item:!0,xs:2.5,children:Object(E.jsx)(V.a,{fullWidth:!0,value:O,onChange:function(e){var t;t=e.target.value,f(t)},label:"Knygos ID",variant:"outlined",autoComplete:"disabled"})}),Object(E.jsx)(G.a,{item:!0,xs:2.5,children:Object(E.jsx)(V.a,{fullWidth:!0,value:d,onChange:function(e){var t;t=e.target.value,b(t)},label:"Pavadinimas",variant:"outlined",autoComplete:"disabled"})}),Object(E.jsx)(G.a,{item:!0,xs:2.5,children:Object(E.jsx)(V.a,{fullWidth:!0,value:g,onChange:function(e){var t;t=e.target.value,v(t)},label:"Autorius",variant:"outlined",autoComplete:"disabled"})}),Object(E.jsx)(G.a,{item:!0,xs:2.5,children:Object(E.jsx)(j.a,{sx:{height:"100%"},fullWidth:!0,autoComplete:"disabled",variant:"contained",size:"large",startIcon:Object(E.jsx)(xe.a,{}),onClick:function(){!function(){var e=t.allBooksList;e=(e=(e=e.filter((function(e){return e.bookID.toLowerCase().includes(O.toLowerCase())}))).filter((function(e){return e.author.toLowerCase().includes(g.toLowerCase())}))).filter((function(e){return e.title.toLowerCase().includes(d.toLowerCase())})),console.log(e),c(e),k.current.setToFirstPage()}()},children:"Ie\u0161koti"})}),Object(E.jsx)(G.a,{item:!0,xs:2,children:Object(E.jsx)(j.a,{sx:{height:"100%"},variant:"contained",size:"large",fullWidth:!0,startIcon:Object(E.jsx)(be.a,{}),onClick:function(){b(""),v(""),f(""),c(t.allBooksList),k.current.setToFirstPage()},children:"I\u0161valyti"})})]})]}),Object(E.jsxs)(de.a,{maxWidth:"fixed",sx:{overflow:"hidden",width:"100%"},children:[Object(E.jsxs)(G.a,{container:!0,spacing:3,children:[Object(E.jsxs)(G.a,{item:!0,xs:12,md:12,lg:6,children:[Object(E.jsx)("h2",{children:"Knygos:"}),Object(E.jsx)(vt,{ref:k,allRowsForShowing:s,handleShowUserInfo:e.handleChange,isLoading:e.isLoading})]}),Object(E.jsxs)(G.a,{item:!0,xs:12,md:12,lg:6,children:[Object(E.jsx)("h2",{children:"Krep\u0161elis:"}),Object(E.jsx)(wt,{ref:k,allRowsForShowing:a.allBooksCartList,handleShowUserInfo:e.handleChange,isLoading:e.isLoading})]})]}),Object(E.jsx)(G.a,{sx:{margin:"20px 0px"},container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center",children:Object(E.jsx)(j.a,{endIcon:Object(E.jsx)(yt.a,{}),size:"large",variant:"contained",children:"I\u0161duoti knygas"})})]})]})}function Dt(){var e=Object(n.useContext)(Qe),t=Object(n.useState)(!1),a=Object(l.a)(t,2),r=a[0],i=a[1];function s(){return(s=Object(N.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B();case 3:(t=e.sent)||(window.location="/unauthorized"),"ADMIN"!==t.role&&(window.location="/student"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),window.location="/unauthorized";case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function c(){return(c=Object(N.a)(L.a.mark((function t(){var a,n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),t.prev=1,t.next=4,tt();case 4:a=t.sent,n=a.data,console.log(n.books),e.setAllBooksList(n.books),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:i(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){s.apply(this,arguments)}(),e.allBooksList<=0&&function(){c.apply(this,arguments)}(),console.log(e.allBooksList)}),[]),console.log("hi"),Object(E.jsxs)("div",{children:[Object(E.jsx)(_,{}),Object(E.jsx)("h1",{className:"centerHeader",children:"Knyg\u0173 i\u0161davmas/gra\u017einimas"}),Object(E.jsx)(St,{booksList:e.allBooksList,isLoading:r})]})}function Nt(){return Object(E.jsxs)(D.a,{children:[Object(E.jsx)(oe,{}),Object(E.jsxs)(z.c,{children:[Object(E.jsx)(z.a,{path:"/",element:Object(E.jsx)(ue,{})}),Object(E.jsx)(z.a,{path:"/users",element:Object(E.jsx)(Ge,{})}),Object(E.jsx)(z.a,{path:"/books",element:Object(E.jsx)(Ot,{})}),Object(E.jsx)(z.a,{path:"/bookscheckincheckout",element:Object(E.jsx)(Dt,{})}),Object(E.jsx)(z.a,{path:"*",element:Object(E.jsx)(Pt,{})})]})]})}function Pt(){return Object(E.jsx)("div",{children:Object(E.jsx)("h2",{children:"404 klaida"})})}s.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(ce,{children:Object(E.jsx)(Te,{children:Object(E.jsx)(Xe,{children:Object(E.jsx)(mt,{children:Object(E.jsx)(Nt,{})})})})})}),document.getElementById("root"))}},[[187,1,2]]]);
//# sourceMappingURL=main.f118080e.chunk.js.map